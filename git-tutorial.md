# gitとは
gitはファイルのバージョン管理を行うソフトウェアである。
次々とおこなわれるファイルの変更をバージョンとして記録し、いつでも記録したバージョンの戻れることが大きな特徴である。

## gitを用いたバージョン管理のメリット
- ファイルの変更を用意に追うことができる
- 複数人でのファイル管理がしやすい

## gitの使い方
gitではファイルの変更の記録をコミットという形で行う。
ファイルの変更の記録をすることをコミットするという。
コミットが行われた時点でのバージョンをgitでは行き来できる。
コミットが蓄えられる場所をリポジトリという。

### コミットまでの流れ
3つの場所"ワークツリー"、"ステージングエリア"、"リポジトリ"を用いてコミットを行う。

バージョン管理を行うファイルが置かれている場所をワークツリーという。
ワークツリーで変更したファイルをコミットしたい場合は、
変更を保存したいファイルをステージングエリアに登録する。
変更を保存したいファイルをステージングエリアに登録した状態でコミットを行うと、ステージングエリアに登録したファイルの変更が保存される。コミット後は、ステージングエリアには、何も登録されていない状態になる。

### ブランチを用いた平行作業
gitではブランチを分けることで、同じリポジトリないで異なる作業を並行して進めることができる。ブランチを分ける機能は、コミットの記録を枝分かれさせるための機能である。同時に複数の異なる作業をしたい場合に用いる。

またあるブランチの変更を別のブランチに反映させることができる。変更を別のブランチに反映させることをマージという。

## gitのコマンド
### gitを導入したら一回だけやるコマンド
- git config --global user.name "<USER_NAME>"

    名前を設定する。誰がコミットしたかの情報を残すために用いる。

- git config --global user.email "<EMAIL>"

    メールアドレスを設定する。

- git config --list

    設定内容を表示する。
### リポジトリの作成
- git init 

    新しいリポジトリを作成する。
    バージョン管理を行うファイルを含むフォルダ内で実行する。

### バージョン管理
- git status 

    現在のブランチ、ワークツリーでのファイルの状態を表示する。

- git add <FILE_NAME>

    ステージングエリアにファイルを登録する。<FILE_NAME>には、登録するファイルまでのパスを指定する。複数ある場合は半角スペースで区切る。「.」を指定すると、ワークツリー内のすべてのファイルを登録する。

- git commit 

    ステージングエリアのファイルをコミットする。このコマンドを実行後、自動でエディタが開き、コミットメッセージを記入する。

    **オプション**

    -a: 変更があるtrackedファイルをステージングエリアに登録しコミットする。**untrackedのファイルはコミットされない。**

    -m: コミットメッセ―ジを引数で与える。

- git log 

    コミットのログを表示する。

    **オプション**

    --oneline: 1コミット一行でコミットログを表示する。
- git branch 

    ブランチ一覧を表示する。引数に文字列を与えると、その文字列をブランチ名とする新たなブランチを作成する。
- git switch 

    引数にブランチ名を指定することで、ブランチを切り替える。
- git diff 

    最新のコミットとワークツリーのファイルの違いを出力する。
- git restore 

    引数にワークツリーで変更されたファイルのファイルパスを与えることで、ファイルの変更を取り消す。

    **オプション**

    --staged: 引数に指定したファイルをのステージングエリアへの登録を取り消す。ワークツリーでの変更はそのまま。
- git merge 

    現在のブランチに引数で指定したブランチをマージする。
- git rm

    引数で指定したファイルを削除し、削除したことをステージングエリアに登録する。
- git checkout

    このコマンドはいろいろなことができる。
    - ブランチの作成、切り替え
    - 特定のコミット、特定のコミットのファイルを復元
    
    引数にコミットIDを指定すると、指定したコミットの状態のファイルを復元する。ブランチも専用のブランチが作成され切り替わる。
    
    引数にコミットIDとファイル名を指定すると、指定したコミットのファイルを現在のブランチの同名のファイルに反映させる。

## githubフロー
gitHubフローはgitHubの開発で使用されているワークフローであり、gitフローに比べてシンプルな構成になっている。
gitHubフローではメインのmasterブランチと機能開発のためのfeatureブランチの2つのみのシンプルな構成になっている。
git-flowと異なる点として、Pull Requestを使うという点と、masterブランチは常にデプロイ可能という点がある。

### 6つのルール
GitHubフローには以下の6つのルールがある。
ルール1が最も重要で、それ以外のルールはルール1を実現するために存在する。
1. masterブランチは常にデプロイ可能である
2. 作業用ブランチをmasterから作成する
3. 作業用ブランチを定期的にプッシュする
4. プルリクエストを活用する
5. プルリクエストが承認されたらmasterへマージする
6. masterへのマージが完了したら直ちにデプロイを行う

### 開発の流れ
1.  開発リポジトリを、自分のアカウントへforkする
2. masterブランチから、作業ブランチを切る
3. ローカルで開発、コミットしてforkしたブランチへpushする
4. 本家リポジトリへPull Requestを出し、フィードバックを受けながら開発を進める
5. レビュワーに承認されたら、本家リポジトリへマージする
6. デプロイする
